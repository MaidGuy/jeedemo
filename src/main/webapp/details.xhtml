<?xml version="1.0" encoding="UTF-8"?>
	<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
	template="/templates/default.xhtml">

	<ui:define name="content">
		<h:form>
			<center>
					<br />
		
		<rich:collapsiblePanel header="Nowy post" switchType="client" expanded="false">
			<h:panelGrid columns="4">
        
        
				<h:outputText value="Tytul" />
				<h:inputText id="title" value="#{authorBean.post.title}"
					required="#{true}"
					/>
					
				<h:outputText value="Tresc" />
				<h:inputText id="body" value="#{authorBean.post.body}"
					required="#{true}"/>
				

			<a4j:commandButton value="Dodaj"
				action="#{authorBean.addPost}" 
				render="List" />
			</h:panelGrid>			
				
    	</rich:collapsiblePanel>
    	
			<br />
			<a4j:outputPanel id="List"> 
			<rich:dataTable value="#{authorBean.authorsPosts}" var="item">
				<f:facet name="header">Posty uzytkownikow</f:facet>
				<rich:column>
					<f:facet name="header">Autor</f:facet>
					<h:outputText value="#{item.author.name}" />
				</rich:column>

				<rich:column>
					<f:facet name="header">Data dodania</f:facet>
					<h:outputText value="#{item.ins_date}" />
				</rich:column>
				<rich:column>
					<f:facet name="header">Tytul</f:facet>
					<h:outputText value="#{item.title}" />
				</rich:column>
				
				<rich:column>
					<f:facet name="header">Tresc</f:facet>
					<h:outputText value="#{item.body}" />
				</rich:column>

				<rich:column>
					<f:facet name="header">#{msg.action}</f:facet>
					<h:commandLink value="#{msg.actionDelete}"
						action="#{authorBean.deletePost}" 
						render="List"/>
				</rich:column>
			</rich:dataTable>
		
		<a4j:status > 
                    <f:facet name="start"> 
                        <h:graphicImage value="http://showcase.richfaces.org/images/ai.gif" alt="ai" /> 
                    </f:facet> 
        </a4j:status> 
        </a4j:outputPanel> 
        </center>
     </h:form>

	</ui:define>

</ui:composition>